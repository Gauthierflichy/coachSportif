
<ion-view view-title = "Nouvel Exercice">
    <ion-nav-bar class="bar-positive">
        <ion-nav-back-button>
        </ion-nav-back-button>
    </ion-nav-bar>
    <ion-content>
        <div class="list">
            <label class="item item-input item-select">
                <div class="input-label">
                    Categorie
                </div>
                <select name="catagory" id="category"
                        ng-options="c.name for c in category.available track by c.id"
                        ng-model="category.selectedOption" ng-change="newSearch()">
                </select>
            </label>

            <label class="item item-input item-select">
                <div class="input-label">
                    Equipement
                </div>
                <select name="equipment" id="equipment"
                        ng-options="e.name for e in equipment.available track by e.id"
                        ng-model="equipment.selectedOption" ng-change="newSearch()">
                </select>
            </label>
            <label ng-if="is_available == true" class="item item-input item-select">
                    <div class="input-label">
                        Exercice
                    </div>

                    <select name="exercise" id="exercise"
                            ng-options="ex.name for ex in exercise.available track by ex.id"
                            ng-model="exercise.selectedOption" ng-change="updateExo()">
                    </select>
            </label>
        </div>
        <div ng-if="is_available == true" class="padding">

            <a class="item item-thumbnail-left" href="#">
                <img  class="image-full" src="{{ exercise.image }}" alt="exoImg">
                <h2>{{ exercise.selectedOption.name}}</h2>
            </a>


            <div class="row">
                <div class="col col-100"><p>{{ date | date: "dd MMMM yyyy" }}</div><a ng-click="openDatePicker()">Modifier</a>
            </div>

            <div class="card" ng-repeat="event in events">
                <div class="item item-divider">
                    {{event.title}}
                </div>
                <div class="item item-text-wrap">
                    {{ event.description }}
                    <p/>
                    <strong>When: {{ event.date | date:'short' }}</strong>

                    <p ng-if="event.status">This event is added to your calendar already!</p>
                    <button ng-if="!event.status" ng-click="addEvent(event,$index)" class="button button-block button-balanced">Add to Calendar</button>

                </div>
            </div>

            <div class="row">
                <button class="button button-balanced button-full" ng-click="addEvent()">Ajouter Ã  votre calendrier</button>
            </div>
        </div>
        <h4 ng-show="is_available == false" class="text-center">Aucun exercice correspondant</h4>
        <!--<div class="bar bar-footer new-footer">
            <button class="col col-40 button button-assertive" ui-sref="tab.dash">Annuler</button>
            <button class="col col-40 button button-balanced">Valider</button>
        </div>-->
    </ion-content>
</ion-view>
